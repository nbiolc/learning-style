<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>あなたの学び方のタイプを探ってみよう（12問）</title>
  <style>
    :root { --maxw: 860px; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", "Yu Gothic", "Meiryo", sans-serif; line-height: 1.6; margin: 0; background: #fafafa; color: #222; }
    header { background: #0ea5e9; color: white; padding: 18px 16px; }
    header h1 { margin: 0 0 4px 0; font-size: 1.4rem; }
    header p { margin: 0; opacity: 0.95; }
    main { max-width: var(--maxw); margin: 20px auto; padding: 0 16px 32px; }
    .card { background: white; border-radius: 14px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); padding: 18px; margin: 14px 0; }
    .q { margin: 14px 0; padding: 12px 12px 6px; border: 1px solid #eee; border-radius: 12px; }
    .q h3 { margin: 0 0 8px; font-size: 1rem; }
    .scale { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }
    .opt { background:#f7f7f7; border-radius: 10px; padding: 8px; text-align: center; border: 1px solid #eee; }
    .opt input { margin-right: 6px; }
    .legend { font-size: .9rem; color:#555; display:flex; justify-content:space-between; margin-top:6px; }
    button { appearance: none; border: none; background: #0ea5e9; color: white; padding: 12px 18px; border-radius: 12px; font-size: 1rem; cursor: pointer; box-shadow: 0 6px 14px rgba(14,165,233,.35); }
    button:hover { filter: brightness(1.05); }
    .results h2 { margin-top: 0; }
    .grid { display:grid; grid-template-columns: 1fr; gap: 14px; }
    @media (min-width: 720px) { .grid { grid-template-columns: 1fr 1fr; } }
    .bar { height: 12px; background:#e5f4fb; border-radius: 999px; overflow: hidden; border:1px solid #c7e7f7; }
    .bar > span { display:block; height:100%; background:#0ea5e9; width:0%; transition: width .6s ease; }
    .type { display:flex; align-items:center; justify-content:space-between; font-weight:600; }
    .pill { font-size: .8rem; padding: 2px 8px; background:#eef7ff; border:1px solid #d8ecff; border-radius:999px; margin-left: 8px; }
    .advice { font-size: .95rem; color:#333; margin-top:8px; }
    footer { text-align:center; color:#666; font-size:.88rem; margin: 28px 0 40px; }
    .notice { font-size:.92rem; color:#555; }
  </style>
</head>
<body>
  <header>
    <h1>あなたの学び方のタイプを探ってみましょう</h1>
    <p>下の各質問を1〜5で選び、「結果を見る」を押すと合計点と上位2タイプがわかります。</p>
  </header>
  <main>
    <section class="card">
      <h2>回答方法</h2>
      <p class="notice">1 = まったくあてはまらない ～ 5 = とてもあてはまる</p>
      <p class="notice">参考として、質問の内容に同意できると思う程度が20%以下で「１」，20～40%で「２」、40～60%で「３」、60～80%で「４」、80%以上で「５」と考えてもいいです</p>
    </section>

    <form id="quiz">
      <section class="card">
        <div class="q">
          <h3>① わからないところは、納得できるまで自分で調べたり考えたりしたい。</h3>
          <div class="scale" data-q="1">
            <label class="opt"><input type="radio" name="q1" value="1">1</label>
            <label class="opt"><input type="radio" name="q1" value="2">2</label>
            <label class="opt"><input type="radio" name="q1" value="3">3</label>
            <label class="opt"><input type="radio" name="q1" value="4">4</label>
            <label class="opt"><input type="radio" name="q1" value="5">5</label>
          </div>
          <div class="legend"><span>1 まったくあてはまらない</span><span>5 とてもあてはまる</span></div>
        </div>

        <div class="q">
          <h3>② 友達や先生に「よくがんばってるね」と言われるとやる気が出る。</h3>
          <div class="scale" data-q="2">
            <label class="opt"><input type="radio" name="q2" value="1">1</label>
            <label class="opt"><input type="radio" name="q2" value="2">2</label>
            <label class="opt"><input type="radio" name="q2" value="3">3</label>
            <label class="opt"><input type="radio" name="q2" value="4">4</label>
            <label class="opt"><input type="radio" name="q2" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>③ 新しいことを試したり、自分のやり方で勉強してみるのが好きだ。</h3>
          <div class="scale" data-q="3">
            <label class="opt"><input type="radio" name="q3" value="1">1</label>
            <label class="opt"><input type="radio" name="q3" value="2">2</label>
            <label class="opt"><input type="radio" name="q3" value="3">3</label>
            <label class="opt"><input type="radio" name="q3" value="4">4</label>
            <label class="opt"><input type="radio" name="q3" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>④ 勉強の計画を立てると安心できる。</h3>
          <div class="scale" data-q="4">
            <label class="opt"><input type="radio" name="q4" value="1">1</label>
            <label class="opt"><input type="radio" name="q4" value="2">2</label>
            <label class="opt"><input type="radio" name="q4" value="3">3</label>
            <label class="opt"><input type="radio" name="q4" value="4">4</label>
            <label class="opt"><input type="radio" name="q4" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑤ ただ暗記するよりも、「どうしてそうなるのか」を知りたい。</h3>
          <div class="scale" data-q="5">
            <label class="opt"><input type="radio" name="q5" value="1">1</label>
            <label class="opt"><input type="radio" name="q5" value="2">2</label>
            <label class="opt"><input type="radio" name="q5" value="3">3</label>
            <label class="opt"><input type="radio" name="q5" value="4">4</label>
            <label class="opt"><input type="radio" name="q5" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑥ まわりの人の役に立てると、もっと頑張ろうと思える。</h3>
          <div class="scale" data-q="6">
            <label class="opt"><input type="radio" name="q6" value="1">1</label>
            <label class="opt"><input type="radio" name="q6" value="2">2</label>
            <label class="opt"><input type="radio" name="q6" value="3">3</label>
            <label class="opt"><input type="radio" name="q6" value="4">4</label>
            <label class="opt"><input type="radio" name="q6" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑦ 思いついたアイデアをどんどんメモしたり、形にしたりするのが得意。</h3>
          <div class="scale" data-q="7">
            <label class="opt"><input type="radio" name="q7" value="1">1</label>
            <label class="opt"><input type="radio" name="q7" value="2">2</label>
            <label class="opt"><input type="radio" name="q7" value="3">3</label>
            <label class="opt"><input type="radio" name="q7" value="4">4</label>
            <label class="opt"><input type="radio" name="q7" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑧ 同じ方法をくり返して少しずつ完成度を上げていくのが好きだ。</h3>
          <div class="scale" data-q="8">
            <label class="opt"><input type="radio" name="q8" value="1">1</label>
            <label class="opt"><input type="radio" name="q8" value="2">2</label>
            <label class="opt"><input type="radio" name="q8" value="3">3</label>
            <label class="opt"><input type="radio" name="q8" value="4">4</label>
            <label class="opt"><input type="radio" name="q8" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑨ 「これをやる意味」を理解してからじゃないとやる気が出ない。</h3>
          <div class="scale" data-q="9">
            <label class="opt"><input type="radio" name="q9" value="1">1</label>
            <label class="opt"><input type="radio" name="q9" value="2">2</label>
            <label class="opt"><input type="radio" name="q9" value="3">3</label>
            <label class="opt"><input type="radio" name="q9" value="4">4</label>
            <label class="opt"><input type="radio" name="q9" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div class="q">
          <h3>⑩ 決めたことは途中で変えるより、最後までやり通したい。</h3>
          <div class="scale" data-q="10">
            <label class="opt"><input type="radio" name="q10" value="1">1</label>
            <label class="opt"><input type="radio" name="q10" value="2">2</label>
            <label class="opt"><input type="radio" name="q10" value="3">3</label>
            <label class="opt"><input type="radio" name="q10" value="4">4</label>
            <label class="opt"><input type="radio" name="q10" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <!-- 追加：協調タイプの補強 -->
        <div class="q">
          <h3>⑪ クラスメイトや友達と一緒に勉強すると、ひとりでやるよりも集中できる。</h3>
          <div class="scale" data-q="11">
            <label class="opt"><input type="radio" name="q11" value="1">1</label>
            <label class="opt"><input type="radio" name="q11" value="2">2</label>
            <label class="opt"><input type="radio" name="q11" value="3">3</label>
            <label class="opt"><input type="radio" name="q11" value="4">4</label>
            <label class="opt"><input type="radio" name="q11" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <!-- 追加：創造タイプの補強 -->
        <div class="q">
          <h3>⑫ 興味をもったことは、予定を変えてでもすぐに試してみたくなる。</h3>
          <div class="scale" data-q="12">
            <label class="opt"><input type="radio" name="q12" value="1">1</label>
            <label class="opt"><input type="radio" name="q12" value="2">2</label>
            <label class="opt"><input type="radio" name="q12" value="3">3</label>
            <label class="opt"><input type="radio" name="q12" value="4">4</label>
            <label class="opt"><input type="radio" name="q12" value="5">5</label>
          </div>
          <div class="legend"><span>1</span><span>5</span></div>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:16px;">
          <button type="button" id="calcBtn">結果を見る</button>
          <button type="reset" id="resetBtn" style="background:#94a3b8; box-shadow: 0 6px 14px rgba(148,163,184,.35);">リセット</button>
        </div>
      </section>
    </form>

    <section class="card results" id="results" style="display:none;">
      <h2>診断結果</h2>
      <div class="grid">
        <div>
          <div class="type">探究タイプ <span class="pill">理屈・理解・整理</span></div>
          <div class="bar"><span id="bar-tankyu"></span></div>
          <div class="advice" id="score-tankyu"></div>
        </div>
        <div>
          <div class="type">協調タイプ <span class="pill">人・つながり・共感</span></div>
          <div class="bar"><span id="bar-kyoucho"></span></div>
          <div class="advice" id="score-kyoucho"></div>
        </div>
        <div>
          <div class="type">創造タイプ <span class="pill">発想・柔軟・挑戦</span></div>
          <div class="bar"><span id="bar-souzou"></span></div>
          <div class="advice" id="score-souzou"></div>
        </div>
        <div>
          <div class="type">計画タイプ <span class="pill">安定・積み上げ・継続</span></div>
          <div class="bar"><span id="bar-keikaku"></span></div>
          <div class="advice" id="score-keikaku"></div>
        </div>
      </div>

      <div class="card" style="background:#f8fbff; border:1px solid #e5f1ff;">
        <h3>あなたの上位2タイプ</h3>
        <p id="top2"></p>
        <ul id="quick-tips"></ul>
        <p class="notice" style="margin-top:8px;">
          ※同点のときは、FFSの考え方にそって <b>「創造（拡散）より計画（保全）」</b>、<b>「探究（凝縮）より協調（受容）」</b> を優先して表示します。
        </p>
      </div>
      <p class="notice"> あなたの結果には「上位２つのタイプ」が表示されます。</p>
      <p class="notice">どちらも今のあなたの学び方に関わっている大切な要素です。</p>
      <p class="notice">人はひとつの型だけでできているわけではありません。</p>
      <p class="notice">たとえば「探究タイプ×計画タイプ」なら、考えて整理する力＋コツコツ続ける力をあわせ持っています。</p>
      <p class="notice">自分の強みを組み合わせて、“自分らしい勉強法”を作っていくヒントにしてください。</p>
    </section>

    <section class="card">
      <h3>結果について</h3>
      <p class="notice">これは、今のあなたの“学び方の傾向”を知るための簡単なチェックです。</p>
      <p class="notice">人は経験や環境によって少しずつ変わっていくものです。</p>
      <p class="notice">結果にとらわれすぎず、今の自分に合う方法を見つけるヒントとして活用してください。</p>
    </section>
    <footer>長浜バイオ大学 学習支援センター</footer>
  </main>

  <script>
    // 12問版マッピング：各タイプ3問ずつ（最大15点）
    const mapping = {
      tankyu: [1,5,9],     // 探究タイプ（凝縮＋弁別の学習的表現）
      kyoucho: [2,6,11],   // 協調タイプ（受容）
      souzou: [3,7,12],    // 創造タイプ（拡散）
      keikaku: [4,8,10]    // 計画タイプ（保全）
    };
    const maxScores = { tankyu: 15, kyoucho: 15, souzou: 15, keikaku: 15 };

    function getValue(q) {
      const el = document.querySelector(`input[name="q${q}"]:checked`);
      return el ? parseInt(el.value, 10) : 0;
    }
    function sum(arr){ return arr.reduce((a,b)=>a+b,0); }

    // FFS準拠の同点優先ルールを反映した比較関数
    function compareTypes(a, b) {
      const [ka, va] = a;
      const [kb, vb] = b;
      if (va !== vb) return vb - va; // 高得点を優先

      // 同点時：拡散(創造) vs 保全(計画) → 保全(計画)を優先
      if ((ka === 'souzou' && kb === 'keikaku')) return 1;
      if ((ka === 'keikaku' && kb === 'souzou')) return -1;

      // 同点時：凝縮(探究) vs 受容(協調) → 受容(協調)を優先
      if ((ka === 'tankyu' && kb === 'kyoucho')) return 1;
      if ((ka === 'kyoucho' && kb === 'tankyu')) return -1;

      // それ以外の完全同点は順不同（安定した表示のため名前順で固定）
      const order = ['kyoucho','tankyu','keikaku','souzou'];
      return order.indexOf(ka) - order.indexOf(kb);
    }

    function calc() {
      // collect scores
      const scores = {
        tankyu: sum(mapping.tankyu.map(getValue)),
        kyoucho: sum(mapping.kyoucho.map(getValue)),
        souzou: sum(mapping.souzou.map(getValue)),
        keikaku: sum(mapping.keikaku.map(getValue))
      };

      // Update bars & labels
      const pct = (v, max) => Math.round((v / max) * 100);
      document.getElementById('bar-tankyu').style.width = pct(scores.tankyu, maxScores.tankyu) + '%';
      document.getElementById('bar-kyoucho').style.width = pct(scores.kyoucho, maxScores.kyoucho) + '%';
      document.getElementById('bar-souzou').style.width = pct(scores.souzou, maxScores.souzou) + '%';
      document.getElementById('bar-keikaku').style.width = pct(scores.keikaku, maxScores.keikaku) + '%';

      document.getElementById('score-tankyu').textContent = `合計 ${scores.tankyu} / ${maxScores.tankyu}`;
      document.getElementById('score-kyoucho').textContent = `合計 ${scores.kyoucho} / ${maxScores.kyoucho}`;
      document.getElementById('score-souzou').textContent = `合計 ${scores.souzou} / ${maxScores.souzou}`;
      document.getElementById('score-keikaku').textContent = `合計 ${scores.keikaku} / ${maxScores.keikaku}`;

      // Sort to get top 2 with FFS tie-break rule
      const entries = Object.entries(scores).sort(compareTypes);

      const label = {
        tankyu: "探究タイプ",
        kyoucho: "協調タイプ",
        souzou: "創造タイプ",
        keikaku: "計画タイプ"
      };
      const top2 = entries.slice(0,2).map(([k,v]) => `${label[k]}（${v}点）`).join(" ／ ");
      document.getElementById('top2').textContent = top2;

      // Quick tips for top types
      const tips = {
        tankyu: "探究タイプ（理解・整理・因果で考える人）；　まず“なぜそうなるのか”を理解してから覚えると定着が早まります。試験前は、公式や重要語を“理由の流れ”とセットで整理するのがベスト。",
        kyoucho: "協調タイプ（人・つながり・共感で伸びる人）；　誰かに説明すると理解が深まります。試験前は、友達に要点を教えたり、声に出して説明してみよう。言葉にすることで記憶・定着が向上します。",
        souzou: "創造タイプ（発想・柔軟・感覚で覚える人）；　イメージで覚えるのが得意。試験前は、図・色・ストーリーで内容を自分なりに再構成してみよう。1時間よりも20分×3回の方が集中できます。",
        keikaku: "計画タイプ（安定・積み上げ・着実に進める人）；　計画を立てて進めると安心できるタイプ。試験前は、まず“残り時間でできることリスト”を作り、今日やる・明日やるを分けて整理しよう。"
      };
      const quick = document.getElementById('quick-tips');
      quick.innerHTML = "";
      entries.slice(0,2).forEach(([k]) => {
        const li = document.createElement('li');
        li.textContent = tips[k];
        quick.appendChild(li);
      });

      document.getElementById('results').style.display = 'block';
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    document.getElementById('calcBtn').addEventListener('click', calc);
    document.getElementById('resetBtn').addEventListener('click', () => {
      document.getElementById('results').style.display = 'none';
      document.querySelectorAll('.bar > span').forEach(s=> s.style.width = '0%');
    });
  </script>
</body>
</html>
